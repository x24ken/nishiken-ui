# nishiken-ui MCP Server

nishiken-ui ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ç”¨ã®Model Context Protocol (MCP) ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚Cursorã‚„Claude Desktopã§ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã«ç›´æŽ¥ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

## æ¦‚è¦

ã“ã®MCPã‚µãƒ¼ãƒãƒ¼ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š

- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œç´¢** - ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¤œç´¢
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰å–å¾—** - å®Œå…¨ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã®å–å¾—
- **ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—** - ã‚«ãƒ©ãƒ¼ã€ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ãªã©ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³
- **ãƒ†ãƒ¼ãƒžè¨­å®šé©ç”¨** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒ†ãƒ¼ãƒžè¨­å®šã®è‡ªå‹•é©ç”¨
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±åˆ** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±åˆ

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. MCPã‚µãƒ¼ãƒãƒ¼ã®ãƒ“ãƒ«ãƒ‰

```bash
cd design-system-mcp
npm install
npm run build
```

### 2. å‹•ä½œç¢ºèª

```bash
npm run test
```

æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š
```
âœ… MCPã‚µãƒ¼ãƒãƒ¼åŸºæœ¬å‹•ä½œ
âœ… ComponentReader  
âœ… TailwindTokenReader
ðŸŽ¯ æˆåŠŸçŽ‡: 3/3 (100%)
```

## Cursor ã§ã®è¨­å®š

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

`~/.cursor/mcp.json` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã¾ãŸã¯ç·¨é›†ã—ã¦ã€ä»¥ä¸‹ã®è¨­å®šã‚’è¿½åŠ ã—ã¦ãã ã•ã„ï¼š

```json
{
  "mcpServers": {
    "nishiken-ui": {
      "command": "node",
      "args": ["/path/to/nishiken-ui/design-system-mcp/dist/server.js"],
      "env": {}
    }
  }
}
```

**é‡è¦**: `/path/to/nishiken-ui/` ã®éƒ¨åˆ†ã¯ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

### è¨­å®šæ‰‹é †

1. **MCPã‚µãƒ¼ãƒãƒ¼ã‚’ãƒ“ãƒ«ãƒ‰**
   ```bash
   cd design-system-mcp
   npm run build
   ```

2. **Cursorè¨­å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç¢ºèª**
   ```bash
   mkdir -p ~/.cursor
   ```

3. **MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†**
   ```bash
   # æ–°è¦ä½œæˆã®å ´åˆ
   cat > ~/.cursor/mcp.json << 'EOF'
   {
     "mcpServers": {
       "nishiken-ui": {
         "command": "node",
         "args": ["/Users/YOUR_USERNAME/path/to/nishiken-ui/design-system-mcp/dist/server.js"],
         "env": {}
       }
     }
   }
   EOF
   ```

   æ—¢å­˜ã®è¨­å®šãŒã‚ã‚‹å ´åˆã¯ã€`mcpServers` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå†…ã« `nishiken-ui` ã®è¨­å®šã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

4. **Cursorã‚’å†èµ·å‹•**

5. **å‹•ä½œç¢ºèª**
   - Cursorã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
   - Composer (`Cmd+I` ã¾ãŸã¯ `Ctrl+I`) ã‚’é–‹ã
   - ã€Œnishiken-uiã®Buttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¤œç´¢ã—ã¦ã€ã¨å…¥åŠ›
   - MCPã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®å¿œç­”ãŒã‚ã‚Œã°æˆåŠŸ

## ä½¿ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«

### 1. search_components
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¤œç´¢ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `query` (string, optional): æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- `category` (string, optional): ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚«ãƒ†ã‚´ãƒª (`button`, `input`, `card`, `typography`, `label`)

**ä½¿ç”¨ä¾‹:**
```
"Buttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¤œç´¢ã—ã¦"
"inputã‚«ãƒ†ã‚´ãƒªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å…¨ã¦è¦‹ã›ã¦"
```

### 2. get_component_code
æŒ‡å®šã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `componentName` (string, required): ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå
- `includeStories` (boolean, optional): Storybookã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’å«ã‚ã‚‹
- `includeTypes` (boolean, optional): åž‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ã‚‹
- `includeIndex` (boolean, optional): index.tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ã‚‹

**ä½¿ç”¨ä¾‹:**
```
"Buttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚‚å«ã‚ã¦å–å¾—ã—ã¦"
"Cardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã›ã¦"
```

### 3. get_design_tokens
ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `category` (string, optional): ãƒˆãƒ¼ã‚¯ãƒ³ã‚«ãƒ†ã‚´ãƒª (`color`, `spacing`, `border-radius`, `typography`, `shadow`, `animation`)
- `format` (string, optional): å‡ºåŠ›å½¢å¼ (`json`, `css`, `js`)

**ä½¿ç”¨ä¾‹:**
```
"ã‚«ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’CSSå½¢å¼ã§å–å¾—ã—ã¦"
"å…¨ã¦ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’JavaScriptå½¢å¼ã§å‡ºåŠ›ã—ã¦"
```

### 4. apply_theme_setup
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ†ãƒ¼ãƒžè¨­å®šã‚’é©ç”¨ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `targetPath` (string, required): å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‘ã‚¹
- `framework` (string, optional): ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (`react`, `next`, `vite`)
- `typescript` (boolean, optional): TypeScriptä½¿ç”¨
- `setupTailwind` (boolean, optional): Tailwind CSS v4ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 5. integrate_components
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«çµ±åˆã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `components` (array, required): çµ±åˆã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåã®é…åˆ—
- `targetPath` (string, required): å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‘ã‚¹
- `framework` (string, optional): ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (`react`, `next`, `vite`)
- `setupStorybook` (boolean, optional): Storybookã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’å«ã‚ã‚‹

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### MCPã‚µãƒ¼ãƒãƒ¼ãŒèªè­˜ã•ã‚Œãªã„å ´åˆ

1. **ãƒ‘ã‚¹ã®ç¢ºèª**
   ```bash
   # ã‚µãƒ¼ãƒãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
   ls -la /path/to/nishiken-ui/design-system-mcp/dist/server.js
   ```

2. **ãƒ“ãƒ«ãƒ‰ã®å†å®Ÿè¡Œ**
   ```bash
   cd design-system-mcp
   npm run build
   ```

3. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æ–‡ç¢ºèª**
   ```bash
   # JSONæ§‹æ–‡ã‚’ãƒã‚§ãƒƒã‚¯
   cat ~/.cursor/mcp.json | jq .
   ```

4. **Cursorã®å®Œå…¨å†èµ·å‹•**
   - Cursorã‚’å®Œå…¨ã«çµ‚äº†
   - macOSã®å ´åˆ: `Cmd+Q`ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†
   - å†åº¦Cursorã‚’èµ·å‹•

### å‹•ä½œç¢ºèªæ–¹æ³•

Composerã§ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’è©¦ã—ã¦ãã ã•ã„ï¼š

```
# åŸºæœ¬çš„ãªæ¤œç´¢
"nishiken-uiã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§ã‚’è¡¨ç¤ºã—ã¦"

# ç‰¹å®šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå–å¾—
"Buttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã—ã¦"

# ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—
"ã‚«ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¡¨ç¤ºã—ã¦"
```

### ãƒ­ã‚°ã®ç¢ºèª

MCPã‚µãƒ¼ãƒãƒ¼ã®ãƒ‡ãƒãƒƒã‚°æƒ…å ±ãŒå¿…è¦ãªå ´åˆï¼š

```bash
# ç›´æŽ¥ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ãƒ†ã‚¹ãƒˆ
cd design-system-mcp
node dist/server.js
```

## Claude Desktop ã§ã®è¨­å®š

Claude Desktopã§ã‚‚åŒæ§˜ã«ä½¿ç”¨ã§ãã¾ã™ã€‚`~/Documents/Claude/claude_desktop_config.json` ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```json
{
  "mcpServers": {
    "nishiken-ui": {
      "command": "node",
      "args": ["/path/to/nishiken-ui/design-system-mcp/dist/server.js"]
    }
  }
}
```

## é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

- **ComponentReader**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®è§£æžã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
- **TailwindTokenReader**: Tailwind CSSè¨­å®šã‹ã‚‰ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æŠ½å‡º
- **IntegrationManager**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®çµ±åˆå‡¦ç†

### æ‹¡å¼µæ–¹æ³•

æ–°ã—ã„ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š

1. `src/server.ts` ã® `ListToolsRequestSchema` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«æ–°ã—ã„ãƒ„ãƒ¼ãƒ«å®šç¾©ã‚’è¿½åŠ 
2. `CallToolRequestSchema` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ 
3. å¿…è¦ã«å¿œã˜ã¦ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆ

### ãƒ†ã‚¹ãƒˆ

```bash
# å…¨ä½“ãƒ†ã‚¹ãƒˆ
npm run test

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ï¼‰
npm run dev

# åž‹ãƒã‚§ãƒƒã‚¯
npm run typecheck
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License